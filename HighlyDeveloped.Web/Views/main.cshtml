@*
    main.cshtml - Main layout view for the HighlyDeveloped.Web application.

    - Inherits from UmbracoViewPage, enabling access to Umbraco content and helpers.
    - Uses ClientDependency.Core.Mvc for managing CSS and JS dependencies.
    - Sets Layout to null, making this a root layout.
    - Retrieves the home page content using Model.AncestorOrSelf<Home>().

    Head Section:
    - Registers external and local CSS files (Bootstrap, Font Awesome, CookieConsent).
    - Registers external and local JS files (jQuery, Popper.js, Bootstrap, Font Awesome, CookieConsent).
    - Uses integrity and crossorigin attributes for CDN resources to enhance security.
    - Renders all required CSS with @Html.RenderCssHere().

    Body Section:
    - Renders the navigation bar via a partial view ("NavBar").
    - Renders the main body content with @RenderBody().
    - Renders the footer via a partial view ("Footer").
    - Displays a cookie consent alert with a call-to-action button.
    - Renders all required JS with @Html.RenderJsHere().

    Note:
    - This layout is designed for use with Umbraco 8 and leverages best practices for dependency management and partial rendering.
*@
@inherits Umbraco.Web.Mvc.UmbracoViewPage
@using ClientDependency.Core.Mvc
@{
    Layout = null;

    var homePage = Model.AncestorOrSelf<Home>();
}
<html>
<head>
    <!-- Scripts, css etc -->
    @{
        Html.RequiresCss("https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css", new
        {
            integrity = "sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",
            crossorigin = "anonymous"
        });
        Html.RequiresCss("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css");
        Html.RequiresCss("/css/CookieConsent.css");

        Html.RequiresJs("https://code.jquery.com/jquery-3.2.1.slim.min.js",
        new
        {
            integrity = "sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN",
            crossorigin = "anonymous"
        });

        Html.RequiresJs("https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js",
        new
        {
            integrity = "sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q",
            crossorigin = "anonymous"
        });


        Html.RequiresJs("https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js",
            new
            {
                integrity = "sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl",
                crossorigin = "anonymous"
            });

        Html.RequiresJs("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/js/all.min.js");
        Html.RequiresJs("/scripts/CookieConsent.js");
    }

    @Html.RenderCssHere()
</head>
<body>

    <!-- Nav goes here! -->
    @Html.Partial("NavBar")
    
    @RenderBody()


    <!-- Footer -->
    @Html.Partial("Footer")
    
    <!-- Cookie Consent -->
    <div class="alert alert-dismissible text-center cookiealert" role="alert">
      <div class="cookiealert-container">
        <b>Do you like cookies?</b> &#x1F36A; We use cookies to ensure you get the best experience on our website. <a href="http://cookiesandyou.com/" target="_blank">Learn more</a>
    
        <button type="button" class="btn btn-primary btn-sm acceptcookies" aria-label="Close">
            I agree
        </button>
      </div>
    </div>

    @Html.RenderJsHere()
    
</body>
</html>

